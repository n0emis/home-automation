
config interface 'loopback'
	option ifname 'lo'
	option proto 'static'
	option ipaddr '127.0.0.1'
	option netmask '255.0.0.0'

config globals 'globals'

config interface 'wan'
	option proto 'pppoe'
	option username '{{ lookup('passwordstore', 't-online.de subkey=ppp') }}'
	option password '{{ lookup('passwordstore', 't-online.de') }}'
	option ifname 'eth0.7'
	option host_uniq 'E80D0000'
	option ipv6 '0'

config interface 'henet'
	option proto '6in4'
	option peeraddr '216.66.80.30'
	option ip6addr '2001:470:1f0a:bec::2/64'
	option username 'n0emis'
	option tunnelid '{{ lookup('passwordstore', 'tunnelbroker.net/int.goe.de subkey=user') }}'
	option password '{{ lookup('passwordstore', 'tunnelbroker.net/int.goe.de') }}'
	list ip6prefix '2001:470:1f0b:bed::/64'
	list ip6prefix '2001:470:7694::/48'

config interface 'lan'
	option type 'bridge'
	option proto 'static'
	option ipaddr '10.152.0.1'
	option netmask '255.255.252.0'
	option ip6assign '60'
	option ip6hint '10'
	option ifname 'eth0 eth1 eth2'

config interface 'srvkallisto'
	option type 'bridge'
	option proto 'static'
	option ipaddr '10.152.4.254'
	option netmask '255.255.255.0'
	option ip6assign '64'
	option ip6hint '0'
	option ifname 'eth1.4'

config interface 'cccgoevpn'
	option proto 'wireguard'
	option private_key '{{ lookup('passwordstore', 'infra/io.int.goe.de.n0emis.eu/cccgoevpn') }}'
	list addresses 'fdf8:7e7f:d097:9940::2/48'
	option ip6gw 'fdf8:7e7f:d097:9940::1'
	option persistent_keepalive '25'
	option route_allowed_ips '1'
	option listen_port '30001'
	list ip6prefix 'fdf8:7e7f:d097:9942::/63'

config wireguard_cccgoevpn 'himalia'
	option description 'himalia'
	option public_key '{{ lookup('passwordstore', 'infra/himalia.ion.rhr.de.n0emis.eu/wg-cgvpn subkey=user') }}'
	option endpoint_host 'himalia.ion.rhr.de.n0emis.eu'
	option endpoint_port '41002'
	list allowed_ips 'fdf8:7e7f:d097::/48'
	option persistent_keepalive '25'
	option route_allowed_ips '1'

